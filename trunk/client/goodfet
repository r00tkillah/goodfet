#!/usr/bin/env python
# GoodFET Debugger
# 
# (C) 2009 Travis Goodspeed <travis at radiantmachines.com>
#
# This code is being rewritten and refactored.  You've been warned!

import sys, os, readline, code, binascii;
import rlcompleter;

import GoodFET;
from GoodFET.GoodFETConsole import GoodFETConsole;
#from GoodFET import *;

from intelhex import IntelHex;

if(len(sys.argv)==1):
    print "Usage: %s driver\n" % sys.argv[0];
    print "driver:= GoodFETCC GoodFETMSP430";
    print;
    print "This is an unfinished client.  You probably want goodfet.$chip instead.";
    sys.exit(1);

driver=sys.argv[1];
print "Using driver %s" % driver;
#client=eval("%s()" % driver);
client=GoodFET.getClient(driver);
console=client.getConsole();
console.run();

sys.exit(0);
